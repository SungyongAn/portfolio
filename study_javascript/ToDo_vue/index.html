<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ToDo アプリ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>
<body>
    <div class="container mt-4">
        <h1>ToDo アプリver2</h1>
        <div id="app">
            <div class="border p-3">
                <div class="border p-3 bg-light">
                    <div class="new-todo-category">
                        <label for="new-todo-category" class="form-label">カテゴリ</label>
                        <ul>
                            <!-- :key の : は v-bind の略称-->
                            <li v-for="category in categories" :key="category">
                                <label :for="'category-' + category">
                                    <input v-model="todoCategories" type="checkbox" :id="'category-' + category" 
                                :value="category" form="form-todo">  {{ category }}
                                </label>
                            </li>
                        </ul>
                        <!-- @submit.prevent の @ は v-on の略称-->
                        <form @submit.prevent="createCategory" class="d-flex"></form>
                        <div class="row">
                            <div class="col-auto">
                                <input 
                                v-model.trim="categoryName" 
                                type="text"
                                id="new-todo-category"
                                class="form-control me-2"
                                >
                            </div>
                            <div class="col">
                                <!-- :disabled の : は v-bind の略称-->
                                <button type="submit" @click="createCategory" :disabled="!canCreateCategory">作成</button>
                            </div>
                        </div>
                    </div>
                </div>
                <p></p>
                <div class="new-todo-title">
                    <label for="new-todo-title" class="form-label me-2">タイトル</label>
                    <input 
                    v-model.trim="todoTitle"
                    type="text"
                    id="todo-title"
                    class="form-control-sm"
                    >
                </div>
                <div class="new-todo-description">
                    <label fro="new-todo-description" class="form-label">説明</label>
                    <br>
                    <textarea 
                    v-model.trim="todoDescription"
                    type="text"
                    id="todo-description"
                    class="form-control"></textarea>
                </div>
            </div>
            <!-- カテゴリ、タイトル、説明の３項目全部が選択、入力されていないと作成ボタンが機能しないように設定 カテゴリは複数選択可能-->
            <button type="submit" @click="createTodo" :disabled="todoCategories.length === 0 || !todoTitle || !todoDescription">作成</button>
            <button type="submit" @click="createTodo" :disabled="!todoTitle">作成</button>
        </div>
        <script src="app.js"></script>
    </div>
</body>
</html>
